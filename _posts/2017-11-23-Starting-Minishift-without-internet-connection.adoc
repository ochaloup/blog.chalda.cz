= Starting Minishift without internet connection
:hp-tags: openshift, minishift
:toc: macro
:release: 1.0
:published_at: 2017-11-23
:icons: font

image::articles/open_shift.png[]

The https://github.com/minishift/minishift[Minishift] is an tool which provides an easy way to run https://www.openshift.org[OpenShift] locally on developer's machine. Minishift uses an hypervisor to start a virtual machine where the whole OpenShift environment is set up. Thus you can start, stop and delete the whole environment in seconds.

For the easy resolution of Minishift addresses there is used DNS http://nip.io (http://xip.io times before) which translate the DNS query to address mentioned befor the `nip.io` suffix.

```bash
host 127.0.0.7.nip.io
127.0.0.7.nip.io has address 127.0.0.7
```

If you create an OpenShift route in Minishift it uses the `nip.io` for translation.

```bash
oc get routes
```

gets

|===
| ...

| NAME
| HOST/PORT
| PATH
| SERVICES
| PORT
| TERMINATION
| WILDCARD

| hola
| hola-helloworld-msa-lra.app.192.168.99.100.nip.io
|
| hola
| 8080-tcp
| None

|===

This causes a trouble if you run the Minishift when you are not online. There is a chance to start your local DNS server and let make the translation on your machine. I was trying the https://github.com/basecamp/xip-pdns but probably as I'm not a good Linux administrator it does not succeed.

Then I found about existence http://www.thekelleys.org.uk/dnsmasq/doc.html[dnsmasq service] which works for me. On my Fedora 26

```bash
# install the service
dnf install dnsmasq

# -- Adding configuration for the translation to the end of the config file
vim /etc/dnsmasq.conf
#
# Reverse DNS record for master
host-record=master.192.168.99.100.nip.io,192.168.1.100
# Wildcard DNS for OpenShift Applications - Points to Router
address=/192.168.99.100.nip.io/192.168.99.100

# Start the service
systemctl start dnsmasq
```




















